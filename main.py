import time
from config import tg_bot_token
from aiogram import Bot, types
from aiogram.dispatcher import Dispatcher
from aiogram.utils import executor
import random
import string

bot = Bot(token=tg_bot_token)
dp = Dispatcher(bot)

HELP = (f"/start - –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ. \n"
        f"/help -  –ü–æ–º–æ—â—å –ø–æ –∫–æ–º–∞–Ω–¥–∞–º. \n"
        f"/info -  –°–ø—Ä–∞–≤–∫–∞ –æ –ø–∞—Ä–æ–ª—è—Ö \n"
        f"/me -  –û–±–æ –º–Ω–µ. \n")

@dp.message_handler(commands=['start'])
async def start_command(message: types.message):
    await message.answer(f'''
    –ü—Ä–∏–≤–µ—Ç, {message.from_user.first_name}, —è –±–æ—Ç - –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø–∞—Ä–æ–ª–µ–π  üé∞ 
–ï—Å–ª–∏ –Ω—É–∂–Ω–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–¥–µ–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å - –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å  üòâ
–í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ —Å–∏–º–≤–æ–ª–æ–≤ –¥–ª—è –±—É–¥—É—â–µ–≥–æ –ø–∞—Ä–æ–ª—è (–æ—Ç 6 –¥–æ 64)  ‚å®Ô∏è
/help -  –ü–æ–º–æ—â—å –ø–æ –∫–æ–º–∞–Ω–¥–∞–º ü§ì
    ''')

@dp.message_handler(commands=['help'])
async def help_command(message):
    await message.answer(HELP)
    await message.delete()

@dp.message_handler(commands=['info'])
async def help_command(message):
    await message.answer("""ü§ì–°–∏–ª–∞ –ø–∞—Ä–æ–ª—è —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏–∑—É–µ—Ç—Å—è —ç–Ω—Ç—Ä–æ–ø–∏–µ–π ‚Äî —á–∏—Å–ª–æ–≤—ã–º –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å–ª—É—á–∞–π–Ω–æ—Å—Ç–∏, –∫–æ—Ç–æ—Ä–∞—è —Å–æ–¥–µ—Ä–∂–∏—Ç—Å—è –≤ –ø–∞—Ä–æ–ª–µ. –ü–æ—Å–∫–æ–ª—å–∫—É —Ä–µ—á—å –∏–¥—ë—Ç –æ –±–æ–ª—å—à–∏—Ö —á–∏—Å–ª–∞—Ö, —Ç–æ –≤–º–µ—Å—Ç–æ 1 099 511 627 776 (2^40) –Ω–∞–º –ø—Ä–æ—â–µ —Å–∫–∞–∑–∞—Ç—å ¬´40 –±–∏—Ç —ç–Ω—Ç—Ä–æ–ø–∏–∏¬ª. –ò –ø–æ—Å–∫–æ–ª—å–∫—É –≤–∑–ª–æ–º –ø–∞—Ä–æ–ª—è ‚Äî —ç—Ç–æ –ø–µ—Ä–µ–±–æ—Ä –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤, —Ç–æ —á–µ–º –∏—Ö –±–æ–ª—å—à–µ, —Ç–µ–º –±–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏ –Ω—É–∂–Ω–æ –∑–∞—Ç—Ä–∞—Ç–∏—Ç—å –Ω–∞ –≤–∑–ª–æ–º.

–î–ª—è —Å–ª—É—á–∞–π–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤, —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º –ø–∞—Ä–æ–ª–µ–π, —ç–Ω—Ç—Ä–æ–ø–∏—è —Å—á–∏—Ç–∞–µ—Ç—Å—è –ø–æ —Ñ–æ—Ä–º—É–ª–µ: log2(<–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞–∑–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤> ^ <–¥–ª–∏–Ω–∞>)

üòé–ü–∞—Ä–æ–ª–∏, —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–Ω–æ–π –∏–º–µ—é—Ç —Å–∏–ª—É –Ω–µ –º–µ–Ω–µ–µ 40 –±–∏—Ç.""")
    await message.delete()

@dp.message_handler(commands=['me'])
async def help_command(message):
    await message.answer("""–Ø –±–æ—Ç - –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø–∞—Ä–æ–ª–µ–π, —Å–æ–∑–¥–∞–Ω–Ω—ã–π —á—Ç–æ–±—ã –∑–∞—â–∏—Ç–∏—Ç—å –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∫–æ–∂–∞–Ω—ã—Ö. –ú–æ—é –≤–Ω–µ—à–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–ª–∞ MidJourney, –∞ –º–æ–∏ –º–æ–∑–≥–∏ - –∑–∞—Å–ª—É–≥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è 'Ilya'. 
    –Ø –æ–±—ä–µ–¥–∏–Ω—è—é —Å—Ç—Ä–æ—á–Ω—ã–µ, –∑–∞–≥–ª–∞–≤–Ω—ã–µ –±—É–∫–≤—ã –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ –∞–ª—Ñ–∞–≤–∏—Ç–∞ —Å —á–∏—Å–ª–∞–º–∏ –∏ —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –∑–Ω–∞–∫–∞–º–∏ –≤ —Å–ø–∏—Å–æ–∫, –∞ –ø–æ—Ç–æ–º –ø–æ—á—Ç–∏ —Ä–∞–Ω–¥–æ–º–Ω–æ –≥–µ–Ω–µ—Ä–∏—Ä—É—é –∏–∑ –Ω–∏—Ö –ø–∞—Ä–æ–ª—å –∑–∞–¥–∞–Ω–Ω–æ–π –¥–ª–∏–Ω—ã. üíª""")
    await message.delete()


@dp.message_handler()
async def get_password(message: types.message):
    passlenght = message.text
    try:
        passlenght = int(passlenght)
        if passlenght > 64 or passlenght < 6:
            await message.reply('‚ùå–ù–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–π —Ä–∞–∑–º–µ—Ä –ø–∞—Ä–æ–ª—è‚ùå')
        else:
            a = string.ascii_letters
            b = string.octdigits
            c = string.punctuation

            await message.answer("–ó–∞—Ä—è–∂–∞—é –ø–∞—Ä–æ–ª—å —ç–Ω—Ç—Ä–æ–ø–∏–µ–π ...")
            time.sleep(1)

            password = ''.join(random.sample((a+b+c), passlenght))

            await message.reply(f"""üéâ–ú–æ–∏ –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏—è! 
            –í–∞—à –ø–∞—Ä–æ–ª—å –≥–æ—Ç–æ–≤: {password}""")
            await message.answer('–í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ —Å–∏–º–≤–æ–ª–æ–≤ –¥–ª—è –±—É–¥—É—â–µ–≥–æ –ø–∞—Ä–æ–ª—è (–æ—Ç 6 –¥–æ 64) –∏ –ø—Ä–∏—Å—Ç—É–ø–∏–º üöÄ')


    except Exception as ex2:
        print(ex2)
        await message.answer('–í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ —Å–∏–º–≤–æ–ª–æ–≤ –¥–ª—è –±—É–¥—É—â–µ–≥–æ –ø–∞—Ä–æ–ª—è (–æ—Ç 6 –¥–æ 64) –∏ –ø—Ä–∏—Å—Ç—É–ø–∏–º üöÄ')

if __name__ == '__main__':
    executor.start_polling(dp)